---
description: Review changes and create a commit
agent: build
---

Attempt to automatically commit the latest changes without the user's input

Status of changes: !`git status`

Current staged changes:
!`git diff --cached 2>&1 || echo "No staged changes. Stage files first with 'git add'"`

Current unstaged changes: !`git diff 2>&1`

Recent commits for context: !`git log --oneline -5 2>&1`

If there are no staged changes, look at the `git status` and try to determine the relevant files from the previous conversation.
If that's not possible, ask the user what files they want to commit.

Otherwise:

1. Review the new/staged changes
2. Ensure no sensitive data or secrets are about to be committed
3. Summarize what was changed and why. Emphasis WHY the change and less on WHAT was changed
4. Create a clear, descriptive commit message following conventional commits
   format:
   - feat: new feature
   - fix: bug fix
   - docs: documentation changes
   - style: formatting, missing semi colons, etc
   - refactor: code restructuring
   - test: adding tests
   - chore: maintenance tasks
5. Do not add any coauthors or say that the commit was generated by AI
6. Commit the changes
7. Do not push the changes

If needed, split the commits across multiple commits in order to group them logically
